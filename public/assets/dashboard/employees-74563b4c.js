import{s as l,x as s}from"./index-549cefdd.js";const p=5,m=l("employeesStore",{state:()=>({loading:!1,loaded:[],employees:[]}),getters:{search:e=>t=>{var a;return((a=e.employees)==null?void 0:a.filter(o=>`${o.name}`.match(new RegExp(t.trim()))))??[]}},actions:{async sync(){const e=await s.get("employees");this.$state.employees=e.data.employees},async load(e){const t=await s.get(`employees/${e}`);console.log(t.data),this.$state.loaded.length<p?this.$state.loaded.push(t.data.employee):this.$state.loaded[0]=t.data.employee},updateEmp(e,t){return s.patch(`employees/${e}`,t)},async delEmp(e){await s.delete(`employees/${e}`),this.$state.employees=this.$state.employees.filter(t=>t.id!==e),this.$state.loaded=this.$state.loaded.filter(t=>t.id!==e)},async createEmp(e){await s.put("employees",e),await this.sync()},updateFees(e,t){return s.patch(`employees/${e}/fees`,t)},setAttendance(e){return s.patch(`employees/${e}/mark-day-attendance`)}}});export{m as u};
